<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>更新日志 | Sakurairo 主题周边网站</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="https://cdn.maho.cc/vision/website/ico20210620-llq.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/img/novel.png">
    <link rel="mask-icon" href="https://cdn.maho.cc/vision/website/ico20210620-llq.png" color="#FF9069">
    <meta name="description" content="主题版本更新 安可 Encore 现已发布">
    <meta name="theme-color" content="#FF9069">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="https://cdn.maho.cc/vision/website/ico20210620-llq.png">
    <meta name="msapplication-TileColor" content="#FF9069">
    
    <link rel="preload" href="/assets/css/0.styles.ee0fad33.css" as="style"><link rel="preload" href="/assets/js/app.05748849.js" as="script"><link rel="preload" href="/assets/js/3.2c602196.js" as="script"><link rel="preload" href="/assets/js/20.5479ad30.js" as="script"><link rel="preload" href="/assets/js/6.52c8b565.js" as="script"><link rel="prefetch" href="/assets/js/10.f6595224.js"><link rel="prefetch" href="/assets/js/11.377eaa22.js"><link rel="prefetch" href="/assets/js/12.c75064f1.js"><link rel="prefetch" href="/assets/js/13.49794ea7.js"><link rel="prefetch" href="/assets/js/14.3e096ec4.js"><link rel="prefetch" href="/assets/js/15.ca1eee67.js"><link rel="prefetch" href="/assets/js/16.0f78c548.js"><link rel="prefetch" href="/assets/js/17.7be96240.js"><link rel="prefetch" href="/assets/js/18.09104423.js"><link rel="prefetch" href="/assets/js/19.e77bb313.js"><link rel="prefetch" href="/assets/js/21.deb35b18.js"><link rel="prefetch" href="/assets/js/22.ed46af67.js"><link rel="prefetch" href="/assets/js/4.e0b30a13.js"><link rel="prefetch" href="/assets/js/5.2590636f.js"><link rel="prefetch" href="/assets/js/7.4f3910d8.js"><link rel="prefetch" href="/assets/js/8.487ba6a4.js"><link rel="prefetch" href="/assets/js/9.1c109ff1.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.cda19412.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ee0fad33.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://cdn.maho.cc/vision/website/ico20210620.png" alt="Sakurairo 主题周边网站" class="logo"> <span class="site-name can-hide">Sakurairo 主题周边网站</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  开始使用
</a></div><div class="nav-item"><a href="/demo.html" class="nav-link">
  使用博客
</a></div><div class="nav-item"><a href="/releases.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  更新日志
</a></div><div class="nav-item"><a href="/sponsors.html" class="nav-link">
  支持我们
</a></div> <a href="https://github.com/mirai-mamori/Sakurairo" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  开始使用
</a></div><div class="nav-item"><a href="/demo.html" class="nav-link">
  使用博客
</a></div><div class="nav-item"><a href="/releases.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  更新日志
</a></div><div class="nav-item"><a href="/sponsors.html" class="nav-link">
  支持我们
</a></div> <a href="https://github.com/mirai-mamori/Sakurairo" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/guide/" class="sidebar-link">安装</a></li><li><a href="/guide/about.html" class="sidebar-link">配置</a></li><li><a href="/guide/feedback.html" class="sidebar-link">反馈</a></li><li><a href="/releases.html" aria-current="page" class="active sidebar-link">更新日志</a><ul class="sidebar-sub-headers"></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="更新日志"><a href="#更新日志" class="header-anchor">#</a> 更新日志</h1> <h3 id="_2-1-1"><a href="#_2-1-1" class="header-anchor">#</a> 2.1.1</h3> <p>六一儿童节快乐~
此次更新为功能更新，同时也带来了已知Bug的修正。</p> <h4 id="重大更改"><a href="#重大更改" class="header-anchor">#</a> 重大更改</h4> <p>前台背景显示样式更改，详细参见 c8774a4</p> <h5 id="新特性"><a href="#新特性" class="header-anchor">#</a> 新特性</h5> <ul><li>封面图片本地缓存</li> <li>封面与前台背景一体化</li> <li>切换背景时若路径相同则不实行切换</li> <li>懒加载pjax、NProgress、POWERMODE</li> <li>pjax加载错误时提示</li> <li>评论提交现在有防重复点击的限制</li> <li>现在重新提供一言</li> <li>样式菜单背景模糊效果</li> <li>pjax现在会刷新mashiro_option</li> <li>深色模式现在会影响滚动条颜色</li></ul> <h5 id="新设置项"><a href="#新设置项" class="header-anchor">#</a> 新设置项</h5> <ul><li>封面图片本地缓存</li> <li>封面与前台背景一体化</li> <li>一言</li> <li>前台背景缩放方法</li> <li>深色模式页面背景透明度调整</li></ul> <h4 id="问题修复"><a href="#问题修复" class="header-anchor">#</a> 问题修复</h4> <h5 id="字体切换-216"><a href="#字体切换-216" class="header-anchor">#</a> 字体切换 #216</h5> <ul><li>样式菜单为“简单”时，默认使用A字体</li> <li>字体切换按钮没有正确表示当前的状态</li></ul> <h5 id="其他问题"><a href="#其他问题" class="header-anchor">#</a> 其他问题</h5> <ul><li>样式菜单为简洁时，addEventListener出错</li> <li>开启mashiro_option.cache_cover并成功缓存时，切换背景不生效</li> <li>部分浏览器上AJAX评论不生效</li> <li>(butterbar) 重新支持html消息</li> <li>pjax加载后，导航栏不随滚动变化</li> <li>早期Safari支持</li> <li>不支持部分动画帧的浏览器开启预加载模糊动画时，预加载动画不会消失</li> <li>history.state undefined</li> <li>开启前台背景做为封面时，切换到其他自定义背景刷新后没有正确切换到对应背景</li> <li>load_post()重复加载</li> <li>toc-container高度过长导致页尾溢出</li> <li>ajax分页加载在页面变化后仍然更改DOM</li> <li>错误加载Clipboard.JS</li> <li>pjax不刷新mashiro_option</li> <li>skin_bg0不显示</li> <li>ap not defined</li> <li>老浏览器若滚动过页面，刷新后，预加载动画不会出现在屏幕中</li> <li>博客的最后一篇文章某些情况下会报HTTP 500无法进入；博客第一篇或最新一篇文章上下文显示有时会有问题 #217 62677b0</li> <li>pjax打开时，移动端导航栏可能不会跟随页面滚动变化
移动端: 点击logo 无法返回主页面 #210</li></ul> <h4 id="移除"><a href="#移除" class="header-anchor">#</a> 移除</h4> <ul><li>全局变量mashiro_global.font_control</li> <li>hermitInit() reloadHermit() 暂时去除了这两个函数，正在使用Hermit播放器的朋友可以反馈一下影响</li> <li>全局变量addComment</li> <li>删除.serif移动端判断 537510e</li></ul> <h4 id="性能提升"><a href="#性能提升" class="header-anchor">#</a> 性能提升</h4> <ul><li>提高load_post()（ajax分页加载）效率</li></ul> <h4 id="构建系统"><a href="#构建系统" class="header-anchor">#</a> 构建系统</h4> <ul><li>生成Brotli算法压缩版本</li></ul> <h3 id="_2-1-0-2"><a href="#_2-1-0-2" class="header-anchor">#</a> 2.1.0.2</h3> <p>此次更新为修正更新</p> <h4 id="修正"><a href="#修正" class="header-anchor">#</a> 修正</h4> <ul><li>preload_blur未定义时引发mashiro_option初始化失败</li> <li>移动端点击右上角图标无法返回主页</li> <li>移动端纪念模式菜单失效(#212)</li> <li>搜索结果页 推荐结果深色模式下字体颜色不正确</li> <li>导航菜单白猫样式Logo与图片logo的互相替换</li> <li>移动端无法点击headertop_down (#210)</li> <li>移动端回复头像错位问题 (#168)</li> <li>PHP8兼容性</li></ul> <h4 id="优化"><a href="#优化" class="header-anchor">#</a> 优化</h4> <ul><li>移动端菜单栏居中(#209)</li></ul> <h3 id="_2-1-0-1"><a href="#_2-1-0-1" class="header-anchor">#</a> 2.1.0.1</h3> <p>此次更新为修正更新
同时，此次更新也带来了纪念模式，借此缅怀伟人</p> <h4 id="功能"><a href="#功能" class="header-anchor">#</a> 功能</h4> <ul><li>纪念模式</li> <li>修正</li> <li>特定的固定链接配置下，API路由返回404(#200)</li> <li>AJAX分页按钮翻译缺失</li> <li>评论区获取不到QQ信息</li> <li>实时搜索 &quot;json undefined&quot;</li> <li>短代码收缩/展开失效</li> <li>Pjax打开时，分页失效 (#201)</li> <li>代码高亮为highlight.js时，缩进不正常 (#197)</li></ul> <h4 id="优化-2"><a href="#优化-2" class="header-anchor">#</a> 优化</h4> <ul><li>移动端菜单栏</li> <li>设置说明</li> <li>登录页登录窗口验证码未开启时位置调整</li> <li>评论区“上传图片”入口可关闭 (#193)</li> <li>JavaScript脚本的ES版本现在调整为ES2015（原本是ESNext）</li> <li>部分原本使用cookie保存的前端设置项现在移动到localStorage，减少与服务器通信的带宽消耗</li></ul> <h3 id="_2-1-0"><a href="#_2-1-0" class="header-anchor">#</a> 2.1.0</h3> <p>全新的无 Jquery 主题体验
全新的Webpack化主题体验
微定制设置框架，降低设置搜索阈值，优化性能。
全新的独立相册模版（体验版）
增强的代码高亮功能
增强的深色模式体验</p> <h4 id="新增"><a href="#新增" class="header-anchor">#</a> 新增</h4> <ul><li>文章页面自动添加菜单功能</li> <li>文章区域多作者信息</li> <li>导航菜单毛玻璃效果</li> <li>公开测试频道</li> <li>前台音乐播放器相关功能</li> <li>验证码验证（替代滑动验证）</li></ul> <h4 id="优化-3"><a href="#优化-3" class="header-anchor">#</a> 优化</h4> <ul><li>全局界面动画</li> <li>PHP8的兼容性</li> <li>古腾堡相关CSS</li> <li>主题文件结构</li> <li>部分CSS引入全局变量</li> <li>默认设置值及相关说明</li></ul> <h4 id="修正-2"><a href="#修正-2" class="header-anchor">#</a> 修正</h4> <ul><li>issue模版中的文本错误</li> <li>导航菜单登录菜单♻️过快的特性</li> <li>文章没有Large尺寸的缩略图时的报错情况</li> <li>评论头像概率炸图的问题</li> <li>手机端导航菜单的一些bug</li></ul> <p>Update README.md</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Fuukei/Wiki_iro/edit/docs/docs/releases.md" target="_blank" rel="noopener noreferrer">帮助改善此页面</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/feedback.html" class="prev">
        反馈
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.05748849.js" defer></script><script src="/assets/js/3.2c602196.js" defer></script><script src="/assets/js/20.5479ad30.js" defer></script><script src="/assets/js/6.52c8b565.js" defer></script>
  </body>
</html>
